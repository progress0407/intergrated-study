# chapter 4. 리포지터리와 모델 구현

## 4.1 JPA를 이용한 리포지터리 구현

### 4.1.1 모듈 위치

- domain - model, modelRepository(Interface)
- infra - modelRepository 구현체

### 4.1.2 리포지터리 기본 기능 구현

- ID 조회, 저장

## 4.2 스프링 데이터 JPA를 이용한 리포지터리 구현

Spring Data JPA 사용법

## 4.3 매핑 구현

Q) 다대일 연관관계가 아닌 값 컬렉션을 사용하는 이유

### 4.3.4 AttributeConverter

객체와 DB컬럼을 매핑한다.

주로 객체에 여러 필드가 있고 DB컬럼 하나와 매핑할 때 사용한다.

> ex) 1000, nm -> 1000nm

## 4.4 애그리거트 로딩 전략

애그리거트에 맞게 즉시 로딩과 지연 로딩을 선택한다.

지연로딩 + 조회모델 분리.

## 4.5 애그리거트의 영속성 전파

## 4.6 식별자 생성 기능

## 4.7 도메인 구현과 DIP

DIP 적용 이유는 저수준 변경 -> 고수준 변경 여파를 막기 위함.

하지만 대부분의 경우 DB Access 계층은 거의 변경되지 않는다.
