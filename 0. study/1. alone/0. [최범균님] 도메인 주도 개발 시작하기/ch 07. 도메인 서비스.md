# 7. 도메인 서비스

## 7.1 여러 애그리거트가 필요한 기능

---

도메인 로직을 담당하는 애그리거트가 불분명하거나 복수의 애그리거트, 혹은 서로 다른 애그리거트가 필요할 때...

이때 도메인 서비스를 이용해서 처리한다.

## 7.2 도메인 서비스

---

- 사용하는 상황
  - 여러 애그리거트의 도메인 로직
  - 외부 시스템 연동

### 7.2.1 계산 로직과 도메인 서비스

- OrderService -> Order, DiscountCalculateService
  - Order -> DiscountCalculateService

### note. 애그리거트에 도메인 서비스 주입하지 않기

- 도메인의 필드는 도메인의 성격을 나타냄
  - 개념상 적절하지 않다

### 7.2.2 외부 시스템 연동과 도메인 서비스

...

### 7.2.3 도메인 서비스의 패키지 위치

- 기본적으로 도메인 패키지에 도메인 서비스를 둔다

### 7.2.4 도메인 서비스의 인터페이스와 클래스

- 그러나 외부 시스템과 연동하는 경우(`infrastructre의 성격`을 가짐)에는 DIP에 의해 구성한다.
  - domain에는 인터페이스, infra 패키지에는 구현체를 둔다.

