# CQRS

## 11.1 단일 모델의 장점

ORM 기법은 도메인의 상태를 변경하는 데는 적합하지만 조회화면은 고려할 게 많아서 복잡하게 만드는 원인 중 하나!

## 11.2 CQRS

Command Query Responsibility Segregation

조회와 명령을 분리하자!

### 11.2.1 웹과 CQRS

명령과 조회, 즉 쓰기와 읽기의 비율은 대체 1 : 9 ~ 2 : 8 정도야!

[암달의 법칙](https://ko.wikipedia.org/wiki/%EC%95%94%EB%8B%AC%EC%9D%98_%EB%B2%95%EC%B9%99)을 생각해보자~~

대략적으로 요청 100개 와서 100초 20이 쓰기, 80이 읽기라면...

쓰기 성능을 2배 감소 : 20 -> 40
읽기 성능을 2배 증가 : 80 -> 40

결과: 100초 -> 80초 으로... 

### 11.2.2 CQRS 장단점

- 장점
  - 1. 명령 모델의 복잡도 낮아짐
  - 2. 조회쪽 성능 향상 유리
    - 저장소 종류 변경 등

- 단점
  - 구현 코드 많아짐
  - 구현 기술 난이도
